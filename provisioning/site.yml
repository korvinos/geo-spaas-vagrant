---
- hosts: develop
  roles:
    - localvm
    - conda
    - nansat
    - sample_datasets
    - nansencloud
    - doppler
  environment:
    PATH: "{{ conda_dir }}/bin:{{ ansible_env.PATH }}"
    GDAL_DATA: "{{ conda_dir }}/share/gdal"

- hosts: course
  roles:
    - localvm
    - conda
    - nansat
    - sample_datasets
    - course
  environment:
    PATH: "{{ conda_dir }}/bin:{{ ansible_env.PATH }}"
    GDAL_DATA: "{{ conda_dir }}/share/gdal"

- hosts: condarecipes
  roles:
    - localvm
    - conda
    - condarecipes
  environment:
    PATH: "{{ conda_dir }}/bin:{{ ansible_env.PATH }}"
    GDAL_DATA: "{{ conda_dir }}/share/gdal"

- hosts: condarecipes32
  roles:
    - localvm
    - conda
    - condarecipes
  environment:
    PATH: "{{ conda_dir }}/bin:{{ ansible_env.PATH }}"
    GDAL_DATA: "{{ conda_dir }}/share/gdal"

- hosts: processing
  roles:
    - conda
    - nansat
    - nansencloud

- hosts: webserver
  roles:
    - conda
    - nansat
    - nansencloud
    - webserver

- hosts: thredds
  roles:
    - localvm
    - thredds
